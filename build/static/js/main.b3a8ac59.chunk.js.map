{"version":3,"sources":["places/components/PlaceDetails.module.css","shared/assets/1.jpg","shared/context/auth-context.js","shared/utils/Validators.js","shared/FormElements/Input.js","shared/FormElements/Button.js","shared/hooks/form-hook.js","shared/UIElements/LoadingSpinner.js","shared/UIElements/Backdrop.js","shared/UIElements/Modal.js","shared/UIElements/ErrorModal.js","places/pages/NewPlace.js","shared/UIElements/Avatar.js","shared/UIElements/Card.js","users/components/UserItem.js","users/components/UsersList.js","users/pages/Users.js","users/pages/Auth.js","shared/navigation/MainHeader.js","shared/navigation/NavLinks.js","shared/navigation/SideDrawer.js","shared/navigation/MainNavigation.js","shared/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","places/pages/UpdatePlace.js","users/components/UserDetails.js","places/components/PlaceDetails.js","users/pages/Logout.js","shared/Footer/footer.js","App.js","index.js"],"names":["module","exports","AuthContext","createContext","isLoggedIn","userId","login","logout","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_REQUIRE","type","VALIDATOR_MINLENGTH","val","validate","value","validators","isValid","validator","trim","length","test","inputReducer","state","action","isTouched","Input","props","useReducer","initialValue","initialValid","inputState","dispatch","id","onInput","useEffect","changeHandler","event","target","touchHandler","element","placeholder","label","onChange","onBlur","rows","className","htmlFor","errorText","Button","href","size","inverse","danger","children","to","exact","switch","onClick","disabled","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialFormValidity","formState","useCallback","inputData","formValidity","LoadingSpinner","asOverlay","Backdrop","ReactDOM","createPortal","document","getElementById","ModalOverlay","content","style","headerClass","header","onSubmit","preventDefault","contentClass","footerClass","footer","Modal","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","ErrorModal","onClear","error","NewPlace","useState","isLoading","setIsLoading","isError","setIsError","history","useHistory","Auth","useContext","title","image","description","address","inputHandler","placeSubmitHandler","a","fetch","process","method","headers","body","JSON","stringify","creator","latitude","longitude","ok","Error","push","message","Fragment","Avatar","src","require","default","alt","width","height","Card","UserItem","name","placeCount","UsersList","items","map","user","places","Users","loadedUsers","setLoadedUsers","getUsersFromDB","response","json","responseData","users","auth","isLoginMode","setIsLoginMode","loading","setError","email","password","setFormData","authSubmitHandler","_id","undefined","prevMode","MainHeader","NavLinks","User","SideDrawer","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawerHandler","Map","fontSize","PlaceItem","showMap","setShowMap","showConfirmModal","setConfirmModal","isloading","isLikedByYou","reaction","setReaction","likes","likesAmount","setLikesAmount","closeMapHandler","cancelDeleteHandler","confirmDeleteHandler","onDelete","reactionHandler","reactedUserId","sendRequest","place","color","marginBottom","showControllers","PlaceList","reload","setReload","searchTerm","setSearchTerm","reloadHandler","elementList","filter","toLowerCase","includes","creatorId","coordinates","location","likedBy","userControllers","onDeletePlace","onReload","autoFocus","UserPlaces","data","setData","isDeleted","setIsDeleted","useParams","loadData","request","console","log","deletedPlaceId","prevPlaces","UpdatePlace","loadedPlace","setLoadedPlace","placeId","loadPlace","placeUpdateSubmitHandler","UserDetails","fetchedData","setFetchedData","showMessageModal","setShowMessageModal","UserId","uid","LoadUser","PlaceDetails","pid","showReactions","setShowReactions","reactedUsersList","setReactedUsersList","getUsersByIds","ids","usersArray","i","reactedUserRequest","reactedUsers","loadPlaces","reactedIds","usersList","linkToReactedUserProfile","classes","container","detailsTitle","main_content","extra","reactionsContainer","reactions","idx","margin","border","bind","Logout","Footer","navigation","onCLickHandler","App","routes","setIsLoggedIn","setUserId","path","Provider","render"],"mappings":"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","file":"static/js/main.b3a8ac59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PlaceDetails_container__3Z1MC\",\"main_content\":\"PlaceDetails_main_content__12ZrV\",\"description\":\"PlaceDetails_description__iEqOC\",\"detailsTitle\":\"PlaceDetails_detailsTitle__1AEoE\",\"image\":\"PlaceDetails_image__26RhQ\",\"address\":\"PlaceDetails_address__2JNNV\",\"reactions\":\"PlaceDetails_reactions__39XsR\",\"extra\":\"PlaceDetails_extra__-W5G2\",\"reactionsContainer\":\"PlaceDetails_reactionsContainer__2O0DW\"};","export default \"data:image/jpeg;base64,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\"","import { createContext } from 'react';\r\n\r\nexport const AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  userId: null,\r\n  login: () => {},\r\n  logout: () => {}\r\n});\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid = isValid && value.trim().length > 0;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid = isValid && value.trim().length >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid = isValid && value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid = isValid && +value >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid = isValid && +value <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n    }\r\n  }\r\n  return isValid;\r\n};\r\n","import React, { useReducer, useEffect } from 'react';\r\n\r\nimport { validate } from '../utils/Validators';\r\nimport './Input.css';\r\n\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'CHANGE':\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n        isValid: validate(action.val, action.validators)\r\n      };\r\n    case 'TOUCH': {\r\n      return {\r\n        ...state,\r\n        isTouched: true\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Input = props => {\r\n  const [inputState, dispatch] = useReducer(inputReducer, {\r\n    value: props.initialValue || '',\r\n    isTouched: false,\r\n    isValid: props.initialValid || false\r\n  });\r\n\r\n  const { id, onInput } = props;\r\n  const { value, isValid } = inputState;\r\n\r\n  useEffect(() => {\r\n    onInput(id, value, isValid)\r\n  }, [id, value, isValid, onInput]);\r\n\r\n  const changeHandler = event => {\r\n    dispatch({\r\n      type: 'CHANGE',\r\n      val: event.target.value,\r\n      validators: props.validators\r\n    });\r\n  };\r\n\r\n  const touchHandler = () => {\r\n    dispatch({\r\n      type: 'TOUCH'\r\n    });\r\n  };\r\n\r\n  const element =\r\n    props.element === 'input' ? (\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        placeholder={props.label}\r\n        onChange={changeHandler}\r\n        onBlur={touchHandler}\r\n        value={inputState.value}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        id={props.id}\r\n        rows={props.rows || 3}\r\n        onChange={changeHandler}\r\n        onBlur={touchHandler}\r\n        value={inputState.value}\r\n        placeholder={props.label}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <div\r\n      className={`form-control ${!inputState.isValid && inputState.isTouched &&\r\n        'form-control--invalid'}`}\r\n    >\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {element}\r\n      {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Button.css';\r\n\r\nconst Button = props => {\r\n  if (props.href) {\r\n    return (\r\n      <a\r\n        className={`button button--${props.size || 'default'} ${props.inverse &&\r\n          'button--inverse'} ${props.danger && 'button--danger'}`}\r\n        href={props.href}\r\n      >\r\n        {props.children}\r\n      </a>\r\n    );\r\n  }\r\n  if (props.to) {\r\n    return (\r\n      <Link\r\n        to={props.to}\r\n        exact={props.exact}\r\n        className={`button button--${props.size || 'default'} ${props.inverse &&\r\n          'button--inverse'} ${props.danger && 'button--danger'}`}\r\n      >\r\n        {props.children}\r\n      </Link>\r\n    );\r\n  }\r\n  return (\r\n    <button\r\n      className={`${props.switch} button button--${props.size || 'default'} ${props.inverse &&\r\n        'button--inverse'} ${props.type===\"submit\" && \"submit-btn\"} ${props.danger && 'button--danger'}`}\r\n      type={props.type}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useCallback, useReducer } from 'react';\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'INPUT_CHANGE':\r\n      let formIsValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n        if (inputId === action.inputId) {\r\n          formIsValid = formIsValid && action.isValid;\r\n        } else {\r\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid }\r\n        },\r\n        isValid: formIsValid\r\n      };\r\n    case 'SET_DATA':\r\n      return {\r\n        inputs: action.inputs,\r\n        isValid: action.formIsValid\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useForm = (initialInputs, initialFormValidity) => {\r\n  const [formState, dispatch] = useReducer(formReducer, {\r\n    inputs: initialInputs,\r\n    isValid: initialFormValidity\r\n  });\r\n\r\n  const inputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({\r\n      type: 'INPUT_CHANGE',\r\n      value: value,\r\n      isValid: isValid,\r\n      inputId: id\r\n    });\r\n  }, []);\r\n\r\n  const setFormData = useCallback((inputData, formValidity) => {\r\n    dispatch({\r\n      type: 'SET_DATA',\r\n      inputs: inputData,\r\n      formIsValid: formValidity\r\n    });\r\n  }, []);\r\n\r\n  return [formState, inputHandler, setFormData];\r\n};","import React from 'react';\r\n\r\nimport './LoadingSpinner.css';\r\n\r\nconst LoadingSpinner = props => {\r\n  return (\r\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\r\n      <div className=\"lds-dual-ring\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Backdrop.css';\r\n\r\nconst Backdrop = props => {\r\n  return ReactDOM.createPortal(\r\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\r\n    document.getElementById('backdrop-hook')\r\n  );\r\n};\r\n\r\nexport default Backdrop;\r\n","import \"./Modal.css\"\r\nimport  ReactDOM from \"react-dom\";\r\nimport Backdrop from \"./Backdrop\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { Fragment } from \"react\";\r\n\r\nconst ModalOverlay = props => {\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal__header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n            </header>\r\n\r\n            <form onSubmit={props.onSubmit ? props.onSubmit : event => event.preventDefault()}>\r\n                <div className={`modal__content ${props.contentClass}`}>\r\n                    {props.children}\r\n                </div>\r\n\r\n                <footer className={`modal__footer ${props.footerClass}`}>\r\n                    {props.footer}\r\n                </footer>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n    return ReactDOM.createPortal(content, document.getElementById(\"modal-hook\"));\r\n}\r\n\r\nconst Modal = props => {\r\n    return <Fragment>\r\n        {props.show && <Backdrop onClick={props.onCancel} />}\r\n        <CSSTransition\r\n            in={props.show}\r\n            mountOnEnter\r\n            unmountOnExit\r\n            timeout={300}\r\n            classNames=\"modal\"\r\n        >\r\n            <ModalOverlay {...props} />\r\n        </CSSTransition>\r\n    </Fragment>\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nimport Modal from './Modal';\r\nimport Button from '../FormElements/Button';\r\n\r\nconst ErrorModal = props => {\r\n  return (\r\n    <Modal\r\n      onCancel={props.onClear}\r\n      header=\"An Error Occurred!\"\r\n      show={!!props.error}\r\n      footer={<Button onClick={props.onClear}>Okay</Button>}\r\n    >\r\n      <p>{props.error}</p>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React, {useContext, useState} from 'react';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport Input from '../../shared/FormElements/Input';\r\nimport Button from '../../shared/FormElements/Button';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport LoadingSpinner from '../../shared/UIElements/LoadingSpinner';\r\nimport ErrorModal from '../../shared/UIElements/ErrorModal';\r\nimport './NewPlace.css';\r\n\r\nimport {\r\n  VALIDATOR_REQUIRE,\r\n  VALIDATOR_MINLENGTH\r\n} from '../../shared/utils/Validators';\r\n\r\n\r\n\r\nconst NewPlace = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const Auth = useContext(AuthContext);\r\n\r\n  const [formState, inputHandler] = useForm(\r\n    {\r\n      title: {\r\n        value: '',\r\n        isValid: false\r\n      },\r\n      image: {\r\n        value: '',\r\n        isValid: false\r\n      },\r\n      description: {\r\n        value: '',\r\n        isValid: false\r\n      },\r\n      address: {\r\n        value: '',\r\n        isValid: false\r\n      }\r\n    },\r\n    false\r\n  );\r\n\r\n  const errorCloseModal = () => {\r\n    setIsError(null);\r\n    history.push(\"/\")\r\n  }\r\n\r\n  const placeSubmitHandler = async event => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    try{\r\n\r\n      const kazkas = await fetch(`${process.env.REACT_APP_BACKEND_URL}/add-place`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n          creator: Auth.userId,\r\n          image: formState.inputs.image.value,\r\n          title: formState.inputs.title.value,\r\n          description: formState.inputs.description.value,\r\n          address: formState.inputs.address.value,\r\n          latitude: 123,\r\n          longitude: 456,\r\n        })\r\n      })\r\n\r\n      if(!kazkas.ok){\r\n        throw new Error(\"failed to post new place\");\r\n      }\r\n\r\n      setIsLoading(false);\r\n\r\n      history.push(\"/\");\r\n\r\n\r\n    }catch(err){\r\n      setIsError(err.message);\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={isError} onClear={errorCloseModal} />\r\n      {isLoading && <LoadingSpinner asOverlay/>}\r\n      {!isLoading && <form className=\"place-form\" onSubmit={placeSubmitHandler}>\r\n        <Input\r\n          id=\"title\"\r\n          element=\"input\"\r\n          type=\"text\"\r\n          label=\"Title\"\r\n          placeholder=\"Title\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid title.\"\r\n          onInput={inputHandler}\r\n        />\r\n        <Input \r\n          id=\"image\"\r\n          element=\"input\"\r\n          type=\"text\"\r\n          label=\"Image Url\"\r\n          placeholder=\"Image Url\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please provide image url.\"\r\n          onInput={inputHandler}\r\n        />\r\n        <Input\r\n          id=\"description\"\r\n          element=\"textarea\"\r\n          label=\"Description\"\r\n          placeholder=\"Description\"\r\n          validators={[VALIDATOR_MINLENGTH(5)]}\r\n          errorText=\"Please enter a valid description (at least 5 characters).\"\r\n          onInput={inputHandler}\r\n        />\r\n        <Input\r\n          id=\"address\"\r\n          element=\"input\"\r\n          label=\"Address\"\r\n          placeholder=\"Address\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid address.\"\r\n          onInput={inputHandler}\r\n        />\r\n        <Button type=\"submit\" disabled={!formState.isValid}>\r\n          ADD PLACE\r\n        </Button>\r\n      </form>}\r\n    </React.Fragment>\r\n    \r\n  );\r\n};\r\n\r\nexport default NewPlace;\r\n","import React from 'react';\r\nimport './Avatar.css';\r\n\r\nconst Avatar = props => {\r\n\r\n  return (\r\n    <div className={`avatar ${props.className}`} style={props.style}>\r\n      <img\r\n        src={props.src? props.src :(require(`../assets/1.jpg`).default)}\r\n        alt={props.alt}\r\n        style={{ width: props.width, height: props.width }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react'\r\n\r\nimport './Card.css'\r\n\r\nconst Card = (props) => {\r\n  return (\r\n    <div className={`card`} style={props.style}>\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Avatar from '../../shared/UIElements/Avatar';\r\nimport Card from '../../shared/UIElements/Card';\r\nimport './UserItem.css';\r\n\r\nconst UserItem = props => {\r\n  return (\r\n    <li className=\"user-item\">\r\n      <Card className=\"user-item__content\">\r\n        <Link to={`/${props.id}/places`}>\r\n          <div className=\"user-item__image\">\r\n            <Avatar image={props.image} alt={props.name} />\r\n          </div>\r\n          <div className=\"user-item__info\">\r\n            <h2>{props.name}</h2>\r\n            <h3>\r\n              {props.placeCount.length} {props.placeCount.length === 1 ? 'Place' : 'Places'}\r\n            </h3>\r\n          </div>\r\n        </Link>\r\n      </Card>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UserItem;\r\n","import React from 'react';\r\n\r\nimport UserItem from './UserItem';\r\nimport Card from '../../shared/UIElements/Card';\r\nimport './UsersList.css';\r\n\r\nconst UsersList = props => {\r\n  if (props.items.length === 0) {\r\n    return (\r\n      <div className=\"center\">\r\n        <Card>\r\n          <h2>No users found.</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {props.items.map(user => (\r\n        <UserItem\r\n          key={user.id}\r\n          id={user.id}\r\n          image={user.image}\r\n          name={user.name}\r\n          placeCount={user.places}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default UsersList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport LoadingSpinner from \"../../shared/UIElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/UIElements/ErrorModal\";\r\nimport UsersList from \"../components/UsersList\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Users = () => {\r\n\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState();\r\n  const [loadedUsers, setLoadedUsers] = useState();\r\n\r\n  useEffect(()=>{\r\n    const getUsersFromDB = async () => {\r\n      \r\n      try{\r\n        setIsLoading(true);\r\n\r\n        const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/users`);\r\n        const responseData = await response.json();\r\n        if(!response.ok){\r\n          throw new Error(response.message);\r\n        }\r\n\r\n        setLoadedUsers(responseData.users);\r\n        setIsLoading(false);\r\n\r\n      }catch(err){\r\n        setIsLoading(false);\r\n        setIsError(`Cannot load users! (System error: ${err.message})` || \"Cannot load Users.\");\r\n      }\r\n\r\n    }\r\n\r\n    getUsersFromDB();\r\n  },[]);\r\n\r\n\r\n  const errorHandler = () => {\r\n    setIsError(null);\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return <React.Fragment>\r\n    <ErrorModal error={isError} onClear={errorHandler} />\r\n    { isLoading && <div className=\"center\">\r\n      <LoadingSpinner asOverlay />\r\n    </div>}\r\n    { !isLoading && loadedUsers && <UsersList items={loadedUsers}/>}\r\n  </React.Fragment>\r\n}\r\n\r\n\r\nexport default Users;","import React, { useState, useContext } from 'react';\r\nimport Card from '../../shared/UIElements/Card';\r\nimport Input from '../../shared/FormElements/Input';\r\nimport Button from '../../shared/FormElements/Button';\r\nimport LoadingSpinner from \"../../shared/UIElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/UIElements/ErrorModal\";\r\n// import ImageUpload from \"../../shared/FormElements/ImageUpload\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport {\r\n  VALIDATOR_EMAIL,\r\n  VALIDATOR_MINLENGTH,\r\n  VALIDATOR_REQUIRE\r\n} from '../../shared/utils/Validators';\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport './Auth.css';\r\n\r\nconst Auth = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [isLoginMode, setIsLoginMode] = useState(true);\r\n  const [loading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const history = useHistory();\r\n  \r\n\r\n  const [formState, inputHandler, setFormData] = useForm(\r\n    {\r\n      email: {\r\n        value: '',\r\n        isValid: false\r\n      },\r\n      password: {\r\n        value: '',\r\n        isValid: false\r\n      }\r\n    },\r\n    false\r\n  );\r\n\r\n  const switchModeHandler = () => {\r\n    if (!isLoginMode) {\r\n      setFormData(\r\n        {\r\n          ...formState.inputs,\r\n          name: undefined,\r\n          // image: undefined\r\n        },\r\n        formState.inputs.email.isValid && formState.inputs.password.isValid\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          ...formState.inputs,\r\n          name: {\r\n            value: '',\r\n            isValid: false\r\n          },\r\n\r\n          // image: {\r\n          //   value: null,\r\n          //   isValid: false,\r\n          // }\r\n        },\r\n        false\r\n      );\r\n    }\r\n    setIsLoginMode(prevMode => !prevMode);\r\n  };\r\n\r\n  const authSubmitHandler = async event => {\r\n    event.preventDefault();\r\n\r\n    if(isLoginMode){\r\n      try{\r\n        setIsLoading(true);\r\n        const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/users/login`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify({\r\n            email: formState.inputs.email.value,\r\n            password: formState.inputs.password.value,\r\n          })\r\n        })\r\n        const responseData = await response.json();\r\n\r\n        if(!response.ok)throw new Error(responseData.message);\r\n\r\n        auth.login(responseData.user._id);\r\n        setIsLoading(false);\r\n        history.push(\"/\");\r\n\r\n\r\n      }catch(err){\r\n        setError(err.message || \"Something went wrong, please try again..\");\r\n        setIsLoading(false)\r\n      }\r\n\r\n    }else{ // if it's sign-up mode...\r\n      try{\r\n\r\n        setIsLoading(true);\r\n        const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/users/sign-up`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify({\r\n            name: formState.inputs.name.value,\r\n            email: formState.inputs.email.value,\r\n            password: formState.inputs.password.value,\r\n          })\r\n        })\r\n        const responseData = await response.json();\r\n\r\n        if(!response.ok){\r\n          throw new Error(responseData.message);\r\n        }\r\n\r\n\r\n        auth.login(responseData.user._id);\r\n        setIsLoading(false);\r\n        history.push(\"/\");\r\n\r\n\r\n      }catch(err){\r\n        setError(err.message || \"Something went wrong, please try again..\");\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n  };\r\n\r\n  const errorHandler = () => {\r\n    setError(null);\r\n\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={errorHandler}/>\r\n      <Card className=\"authentication\">\r\n        {loading && <LoadingSpinner asOverlay/>}\r\n        <form className=\"auth-form place-form\" onSubmit={authSubmitHandler}>\r\n\r\n        {/* {!isLoginMode && (<ImageUpload center id=\"image\" onInput={inputHandler} />)} */}\r\n\r\n          {!isLoginMode && (\r\n            <Input\r\n              element=\"input\"\r\n              id=\"name\"\r\n              type=\"text\"\r\n              label=\"Your Name\"\r\n              validators={[VALIDATOR_REQUIRE()]}\r\n              errorText=\"Please enter a name.\"\r\n              onInput={inputHandler}\r\n            />\r\n          ) }\r\n\r\n          <Input\r\n            element=\"input\"\r\n            id=\"email\"\r\n            type=\"email\"\r\n            label=\"E-Mail\"\r\n            validators={[VALIDATOR_EMAIL()]}\r\n            errorText=\"Please enter a valid email address.\"\r\n            onInput={inputHandler}\r\n          />\r\n          <Input\r\n            element=\"input\"\r\n            id=\"password\"\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            validators={[VALIDATOR_MINLENGTH(5)]}\r\n            errorText=\"Please enter a valid password, at least 5 characters.\"\r\n            onInput={inputHandler}\r\n          />\r\n          <Button type=\"submit\" disabled={!formState.isValid}>\r\n            {isLoginMode ? 'LOGIN' : 'SIGNUP'}\r\n          </Button>\r\n        </form>\r\n        <Button switch=\"switch\" inverse onClick={switchModeHandler}>\r\n          SWITCH TO {isLoginMode ? 'SIGNUP' : 'LOGIN'}\r\n        </Button>\r\n      </Card> \r\n    </React.Fragment>\r\n    \r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React from 'react';\r\n\r\nimport './MainHeader.css';\r\n\r\nconst MainHeader = props => {\r\n  return <header className=\"main-header\">{props.children}</header>;\r\n};\r\n\r\nexport default MainHeader;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport {AuthContext} from \"../context/auth-context\";\r\nimport './NavLinks.css';\r\n\r\nconst NavLinks = props => {\r\n\r\n  const User = useContext(AuthContext);\r\n\r\n  return <ul className=\"nav-links\">\r\n    <li>\r\n      <NavLink to=\"/users\" exact>ALL USERS</NavLink>\r\n    </li>\r\n    \r\n    {\r\n      User.isLoggedIn && \r\n        <React.Fragment>\r\n        <li>\r\n          <NavLink to={`/${User.userId}/places`}>MY PLACES</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/places/new\">ADD PLACE</NavLink>\r\n        </li>  \r\n        </React.Fragment>\r\n    }\r\n    \r\n    <li>\r\n      {!User.isLoggedIn ? <NavLink to=\"/auth\">AUTHENTICATE</NavLink> : <NavLink to=\"/logout\">LOGOUT</NavLink>}\r\n    </li>\r\n  </ul>\r\n};\r\n\r\nexport default NavLinks;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport './SideDrawer.css';\r\n\r\nconst SideDrawer = props => {\r\n  const content = (\r\n    <CSSTransition\r\n      in={props.show}\r\n      timeout={200}\r\n      classNames=\"slide-in-left\"\r\n      mountOnEnter\r\n      unmountOnExit\r\n    >\r\n      <aside className=\"side-drawer\" onClick={props.onClick}>{props.children}</aside>\r\n    </CSSTransition>\r\n  );\r\n\r\n  return ReactDOM.createPortal(content, document.getElementById('drawer-hook'));\r\n};\r\n\r\nexport default SideDrawer;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport MainHeader from './MainHeader';\r\nimport NavLinks from './NavLinks';\r\nimport SideDrawer from './SideDrawer';\r\nimport Backdrop from '../UIElements/Backdrop';\r\nimport './MainNavigation.css';\r\n\r\nconst MainNavigation = props => {\r\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n\r\n  const openDrawerHandler = () => {\r\n    setDrawerIsOpen(true);\r\n  };\r\n\r\n  const closeDrawerHandler = () => {\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {drawerIsOpen && <Backdrop onClick={closeDrawerHandler} />}\r\n      <SideDrawer show={drawerIsOpen} onClick={closeDrawerHandler}>\r\n        <nav className=\"main-navigation__drawer-nav\">\r\n          <NavLinks />\r\n        </nav>\r\n      </SideDrawer>\r\n\r\n      <MainHeader>\r\n        <button className=\"main-navigation__menu-btn\" onClick={openDrawerHandler}>\r\n          <span />\r\n          <span />\r\n          <span />\r\n        </button>\r\n        <h1 className=\"main-navigation__title\">\r\n          <Link to=\"/\">All Places</Link>\r\n        </h1>\r\n        <nav className=\"main-navigation__header-nav\">\r\n          <NavLinks />\r\n        </nav>\r\n        \r\n      </MainHeader>\r\n      <div className=\"extra-header\">\r\n        <h1 className='air_header'>Plan your trip!</h1>\r\n        <div className='air_logo'></div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import \"./Map.css\";\r\n\r\nconst Map = props => {\r\n    \r\n    return <div>\r\n        <h1 style={{fontSize: \"4vw\"}} >54.601712,25.127005</h1>\r\n    </div>\r\n}\r\n\r\nexport default Map;","import './PlaceItem.css'\r\nimport Card from '../../shared/UIElements/Card'\r\nimport Button from '../../shared/FormElements/Button'\r\nimport Modal from '../../shared/UIElements/Modal'\r\nimport React, { Fragment, useState, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Map from '../../shared/UIElements/Map'\r\nimport LoadingSpinner from '../../shared/UIElements/LoadingSpinner'\r\nimport ErrorModal from '../../shared/UIElements/ErrorModal'\r\nimport { AuthContext } from '../../shared/context/auth-context'\r\n\r\nconst PlaceItem = (props) => {\r\n  const Auth = useContext(AuthContext)\r\n  const history = useHistory()\r\n  const [showMap, setShowMap] = useState(false)\r\n  const [showConfirmModal, setConfirmModal] = useState(false)\r\n  const [isloading, setIsLoading] = useState(false)\r\n  const [isError, setIsError] = useState(null)\r\n  const [reaction, setReaction] = useState(props.isLikedByYou)\r\n  const [likesAmount, setLikesAmount] = useState(props.likes)\r\n  const openMapHandler = () => setShowMap(true)\r\n\r\n  const closeMapHandler = () => setShowMap(false)\r\n\r\n  const showDeleteWarningHandler = () => {\r\n    setConfirmModal(true)\r\n  }\r\n\r\n  const cancelDeleteHandler = () => {\r\n    setConfirmModal(false)\r\n  }\r\n\r\n  const confirmDeleteHandler = async () => {\r\n    setConfirmModal(false)\r\n    setIsLoading(true)\r\n\r\n    try {\r\n      const sendRequest = await fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/delete-place/${props.id}`,\r\n        {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n\r\n      if (!sendRequest.ok) throw new Error('Cannot delete this place')\r\n\r\n      props.onDelete(props.id)\r\n    } catch (err) {\r\n      setIsError('Cannot delete place with provided ID')\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  const closeErrorModal = () => {\r\n    setIsError(null)\r\n  }\r\n\r\n  const reactionHandler = async () => {\r\n    try {\r\n      const sendRequest = await fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/liked-place/${props.id}`,\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            reactedUserId: Auth.userId\r\n          })\r\n        }\r\n      )\r\n\r\n      if (!sendRequest.ok) throw new Error('You already liked this place')\r\n      const responseData = await sendRequest.json()\r\n      setLikesAmount(responseData.place.likes)\r\n      setReaction(!reaction)\r\n    } catch (err) {\r\n      setIsLoading(false)\r\n      setIsError(err.message || 'Failed to like this place')\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  const detailsButtonHandler = () => {\r\n    history.push(`/place/${props.id}`)\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal error={isError} onClear={closeErrorModal} />\r\n      <Modal\r\n        show={showMap}\r\n        onCancel={closeMapHandler}\r\n        header={props.address}\r\n        contentClass=\"place-item__model-content\"\r\n        footerClass=\"place-item__modal-actions\"\r\n        footer={<Button onClick={closeMapHandler}>Close</Button>}\r\n      >\r\n        <div className=\"map-container\">\r\n          <Map props={props} />\r\n        </div>\r\n      </Modal>\r\n\r\n      <Modal\r\n        show={showConfirmModal}\r\n        onCancel={cancelDeleteHandler}\r\n        header=\"Are you sure?\"\r\n        footerClass=\"place-item__modal-actions\"\r\n        footer={\r\n          <React.Fragment>\r\n            <Button inverse onClick={cancelDeleteHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </React.Fragment>\r\n        }\r\n      />\r\n\r\n      <li className=\"place-item-container \">\r\n        {isloading && <LoadingSpinner asOverlay />}\r\n\r\n        {!isloading && (\r\n          <Card>\r\n            <div className=\"place-item\">\r\n              <div className=\"place-item__image\">\r\n                <img src={props.image} alt={props.title} />\r\n              </div>\r\n\r\n              <div className=\"place-item__info\">\r\n                <h1>{props.title}</h1>\r\n                <h2>{props.address}</h2>\r\n                <h3 style={{ color: 'white', marginBottom: '2rem' }}>\r\n                  {likesAmount} {likesAmount > 1 ? 'visitors' : 'visitor'} likes\r\n                  this place!\r\n                </h3>\r\n                <Button onClick={detailsButtonHandler}>DETAILS</Button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"place-item__actions\">\r\n              <Button inverse onClick={openMapHandler}>\r\n                SHOW COORDINATES\r\n              </Button>\r\n\r\n              {Auth.isLoggedIn && !reaction && (\r\n                <Button inverse onClick={reactionHandler}>\r\n                  LIKE [{likesAmount}]\r\n                </Button>\r\n              )}\r\n              {Auth.isLoggedIn && reaction && (\r\n                <Button inverse onClick={reactionHandler}>\r\n                  DISLIKE [{likesAmount}]\r\n                </Button>\r\n              )}\r\n\r\n              {props.showControllers && (\r\n                <React.Fragment>\r\n                  <Button to={`/places/${props.id}`}>EDIT</Button>\r\n                  <Button onClick={showDeleteWarningHandler} danger>\r\n                    DELETE\r\n                  </Button>\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        )}\r\n      </li>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default PlaceItem\r\n","import Card from '../../shared/UIElements/Card'\r\nimport PlaceItem from './PlaceItem'\r\nimport './PlaceList.css'\r\nimport Button from '../../shared/FormElements/Button'\r\nimport { useContext } from 'react'\r\nimport { AuthContext } from '../../shared/context/auth-context'\r\nimport { useState } from 'react'\r\n\r\nconst PlaceList = (props) => {\r\n  const [reload, setReload] = useState(false)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const User = useContext(AuthContext)\r\n\r\n  const reloadHandler = () => {\r\n    setReload(!reload)\r\n  }\r\n\r\n  if (!props.items || props.items.length === 0) {\r\n    return (\r\n      <div className=\"place-list center\">\r\n        <Card>\r\n          <h2 className=\"no-place-header\">No places found</h2>\r\n          {User.isLoggedIn && User.userId === props.userId && (\r\n            <Button to=\"/places/new\">Share place</Button>\r\n          )}\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const elementList = props.items\r\n    .filter((place) => {\r\n      if (searchTerm === '') return place\r\n      else if (place.title.toLowerCase().includes(searchTerm.toLowerCase()))\r\n        return place\r\n    })\r\n    .map((place) => (\r\n      <PlaceItem\r\n        key={place._id}\r\n        id={place._id}\r\n        image={place.image}\r\n        title={place.title}\r\n        description={place.description}\r\n        address={place.address}\r\n        creatorId={place.creator}\r\n        coordinates={place.location}\r\n        likes={place.likes}\r\n        isLikedByYou={place.likedBy.includes(User.userId)}\r\n        showControllers={props.userControllers === User.userId}\r\n        onDelete={props.onDeletePlace}\r\n        onReload={reloadHandler}\r\n      />\r\n    ))\r\n\r\n  return (\r\n    <ul className=\"place-list\">\r\n      <div className=\"controllers\">\r\n        <input\r\n          autoFocus\r\n          id=\"search-input\"\r\n          placeholder=\"Search by title\"\r\n          type=\"text\"\r\n          onChange={(event) => setSearchTerm(event.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {elementList}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default PlaceList\r\n","import { useParams } from 'react-router'\r\nimport PlaceList from '../components/PlaceList'\r\nimport React, { useState, useEffect } from 'react'\r\nimport LoadingSpinner from '../../shared/UIElements/LoadingSpinner'\r\nimport ErrorModal from '../../shared/UIElements/ErrorModal'\r\n\r\nconst UserPlaces = () => {\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [isError, setIsError] = useState(null)\r\n  const [data, setData] = useState(null)\r\n  const [isDeleted, setIsDeleted] = useState(false)\r\n\r\n  const userId = useParams().userId\r\n\r\n  const errorCloseHandler = () => {\r\n    setIsError(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        let request\r\n        if (userId)\r\n          request = await fetch(\r\n            `${process.env.REACT_APP_BACKEND_URL}/user-places/${userId}`\r\n          )\r\n        else request = await fetch(`${process.env.REACT_APP_BACKEND_URL}`)\r\n        if (!request.ok){\r\n\r\n          throw new Error(\r\n            'failed to load this user places! please make sure user id exists' // not informative err message\r\n          )\r\n        }\r\n        const responseData = await request.json();\r\n        console.log(\"Kazkas: \", responseData);\r\n\r\n        setData(responseData.places)\r\n      } catch (err) {\r\n        setData([])\r\n        setIsError(\r\n          err.message || 'Loading places fails.. We are working on this issue'\r\n        )\r\n      }\r\n      setIsLoading(false)\r\n    }\r\n\r\n    loadData()\r\n  }, [userId, isDeleted])\r\n\r\n  const deletePlaceHandler = (deletedPlaceId) => {\r\n    setData((prevPlaces) => {\r\n      prevPlaces.filter((place) => place._id !== deletedPlaceId)\r\n    })\r\n\r\n    setIsDeleted(true)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n      <ErrorModal error={isError} onClear={errorCloseHandler} />\r\n      {!isLoading && data && (\r\n        <PlaceList\r\n          userId={userId}\r\n          onDeletePlace={deletePlaceHandler}\r\n          userControllers={userId}\r\n          items={data}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default UserPlaces\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport ErrorModal from '../../shared/UIElements/ErrorModal';\r\nimport Input from '../../shared/FormElements/Input';\r\nimport LoadingSpinner from '../../shared/UIElements/LoadingSpinner';\r\nimport Button from '../../shared/FormElements/Button';\r\nimport Card from '../../shared/UIElements/Card';\r\nimport {\r\n  VALIDATOR_REQUIRE,\r\n  VALIDATOR_MINLENGTH\r\n} from '../../shared/utils/Validators';\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport './NewPlace.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nconst UpdatePlace = () => {\r\n\r\n  const history = useHistory();\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [loadedPlace, setLoadedPlace] = useState(null);\r\n  const [isError, setIsError] = useState(null);\r\n\r\n  const placeId = useParams().placeId;\r\n\r\n  const [formState, inputHandler, setFormData] = useForm(\r\n    {\r\n      title: {\r\n        value: '',\r\n        isValid: false\r\n      },\r\n      description: {\r\n        value: '',\r\n        isValid: false\r\n      }\r\n    },\r\n    false\r\n  );\r\n\r\n  const ClearErrorHandler = () => {\r\n    setIsLoading(false);\r\n    setIsError(null);\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    const loadPlace = async() => {\r\n\r\n      setIsLoading(true);\r\n      try { \r\n        const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/place/${placeId}`)\r\n\r\n        if(!response.ok) throw new Error(\"Unexpected error in server\");\r\n\r\n        const responseData = await response.json();\r\n\r\n        setLoadedPlace(responseData.place);\r\n\r\n        setFormData(\r\n          {\r\n            title: {\r\n              value: responseData.place.title,\r\n              isValid: true\r\n            },\r\n\r\n            description: {\r\n              value: responseData.place.description,\r\n              isValid: true,\r\n            }\r\n          },\r\n          true\r\n        )\r\n\r\n        setIsLoading(false);\r\n        \r\n      } catch (err) {\r\n        console.log(\"error in UpdatePlace component: \", err);\r\n        setIsError(err.message || \"Cannot load choosen place\")\r\n      } \r\n    }\r\n    loadPlace();\r\n  }, [placeId, setFormData])\r\n\r\n  const placeUpdateSubmitHandler = async event => {\r\n    event.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/update-place/${placeId}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n          title: formState.inputs.title.value,\r\n          description: formState.inputs.description.value\r\n        })\r\n      })\r\n\r\n      if(!response.ok) throw new Error(\"Cannot update this place\");\r\n\r\n      setIsLoading(false);\r\n\r\n      history.push(\"/\")\r\n    } catch (err) {\r\n      setIsError(err.message || \"Failed to update the place\");\r\n    }\r\n    \r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"center\">\r\n        <LoadingSpinner  />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!loadedPlace) {\r\n    return (\r\n      <div className=\"center\">\r\n        <Card>\r\n          <h2>Could not find place!</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={isError} onClear={ClearErrorHandler} />\r\n      { !isLoading && loadedPlace && <form className=\"place-form\" onSubmit={placeUpdateSubmitHandler}>\r\n        <Input\r\n          id=\"title\"\r\n          element=\"input\"\r\n          type=\"text\"\r\n          label=\"Title\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid title.\"\r\n          onInput={inputHandler}\r\n          initialValue={loadedPlace.title}\r\n          initialValid={true}\r\n        />\r\n        <Input\r\n          id=\"description\"\r\n          element=\"textarea\"\r\n          label=\"Description\"\r\n          validators={[VALIDATOR_MINLENGTH(5)]}\r\n          errorText=\"Please enter a valid description (min. 5 characters).\"\r\n          onInput={inputHandler}\r\n          initialValue={loadedPlace.description}\r\n          initialValid={true}\r\n        />\r\n        <Button type=\"submit\" disabled={!formState.isValid}>\r\n          UPDATE PLACE\r\n        </Button>\r\n      </form>}\r\n    </React.Fragment>\r\n    \r\n  );\r\n};\r\n\r\nexport default UpdatePlace;\r\n","import { useEffect, useContext, useState } from 'react'\r\nimport './UserDetails.css'\r\nimport LoadingSpinner from '../../shared/UIElements/LoadingSpinner'\r\nimport ErrorModal from '../../shared/UIElements/ErrorModal'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport Avatar from '../../shared/UIElements/Avatar'\r\n\r\nimport React from 'react'\r\nimport Button from '../../shared/FormElements/Button'\r\nimport Modal from '../../shared/UIElements/Modal'\r\n\r\nconst UserDetails = () => {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [isError, setIsError] = useState(null)\r\n  const [fetchedData, setFetchedData] = useState({})\r\n  const [showMessageModal, setShowMessageModal] = useState(false)\r\n  const history = useHistory()\r\n  const UserId = useParams().uid\r\n\r\n  useEffect(() => {\r\n    const LoadUser = async () => {\r\n      setIsLoading(true)\r\n      try {\r\n        const request = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/${UserId}`\r\n        )\r\n        if (!request.ok) throw new Error('Failed to get user with provided id')\r\n        const responseData = await request.json()\r\n\r\n        setFetchedData(responseData.user)\r\n        setIsLoading(false)\r\n      } catch (err) {\r\n        setIsError(err.message || ' Cannot load particular user')\r\n        console.log('error in UserDetails component: ', err)\r\n      }\r\n    }\r\n\r\n    LoadUser()\r\n  }, [])\r\n\r\n  const clearErrorHandler = () => {\r\n    setIsError(null)\r\n    history.push('/')\r\n  }\r\n\r\n  const backButtonHandler = () => {\r\n    history.push('/')\r\n  }\r\n\r\n  const messageButtonHandler = () => {\r\n    setShowMessageModal(true)\r\n  }\r\n\r\n  const messageSubmitHandler = (event) => {\r\n    event.preventDefault()\r\n  }\r\n\r\n  const browsePlacesButtonHandler = () => {\r\n    history.push(`/${fetchedData._id}/places`)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {<ErrorModal error={isError} onClear={clearErrorHandler} />}\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n      <Modal\r\n        show={showMessageModal}\r\n        header={`Let ${fetchedData.name} know your thoughts`}\r\n        onCancel={() => setShowMessageModal(false)}\r\n      >\r\n        <form className=\"message-form\" onSubmit={messageSubmitHandler}>\r\n          <textarea placeholder=\"Message\" />\r\n          <Button>Send</Button>\r\n        </form>\r\n      </Modal>\r\n\r\n      {!isLoading && fetchedData && (\r\n        <div className=\"details-container\">\r\n          <div className=\"user-details-info\">\r\n            <h1>{fetchedData.name}</h1>\r\n            <h1>{fetchedData.email}</h1>\r\n            <Button onClick={browsePlacesButtonHandler}>Browse places</Button>\r\n          </div>\r\n\r\n          <div className=\"user-details-image\">\r\n            <Avatar src=\"https://cdn.pixabay.com/photo/2020/07/01/12/58/icon-5359553_1280.png\" />\r\n          </div>\r\n\r\n          <div className=\"user-details-contacts\">\r\n            <Button onClick={messageButtonHandler}>Message</Button>\r\n            <Button onClick={backButtonHandler}>Back</Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default UserDetails\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport Button from '../../shared/FormElements/Button'\r\nimport Avatar from '../../shared/UIElements/Avatar'\r\nimport ErrorModal from '../../shared/UIElements/ErrorModal'\r\nimport LoadingSpinner from '../../shared/UIElements/LoadingSpinner'\r\nimport { useHistory } from 'react-router-dom'\r\nimport classes from './PlaceDetails.module.css'\r\n\r\nconst PlaceDetails = () => {\r\n  const history = useHistory()\r\n  const pid = useParams().placeId\r\n  const [isError, setIsError] = useState(null)\r\n  const [loadedPlace, setLoadedPlace] = useState(null)\r\n  const [showReactions, setShowReactions] = useState(false)\r\n  const [reactedUsersList, setReactedUsersList] = useState(null)\r\n  const [isloading, setIsLoading] = useState(false)\r\n\r\n  const getUsersByIds = async (ids) => {\r\n    const usersArray = []\r\n\r\n    try {\r\n      for (let i = 0; i < ids.length; i++) {\r\n        const reactedUserRequest = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/${ids[i]}`\r\n        )\r\n        if (!reactedUserRequest.ok)\r\n          throw new Error('Cannot fetch users who likes this place')\r\n        const reactedUsers = await reactedUserRequest.json()\r\n        usersArray.push(reactedUsers.user)\r\n      }\r\n    } catch (err) {\r\n      setIsError(err.message || 'Cannot fetch users who likes this place')\r\n    }\r\n\r\n    return usersArray\r\n  }\r\n\r\n  useEffect(() => {\r\n    const loadPlaces = async () => {\r\n      try {\r\n        setIsLoading(true)\r\n        setReactedUsersList(true)\r\n\r\n        const request = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/place/${pid}`\r\n        )\r\n\r\n        if (!request.ok) throw new Error('Cannot get data about this place')\r\n\r\n        const responseData = await request.json()\r\n\r\n        setLoadedPlace(responseData.place)\r\n\r\n        const reactedIds = await responseData.place.likedBy\r\n\r\n        if (!reactedIds)\r\n          throw new Error('Cannot fetch users ids who likes this place')\r\n\r\n        const usersList = await getUsersByIds(reactedIds)\r\n\r\n        setReactedUsersList(usersList)\r\n        setIsLoading(false)\r\n      } catch (err) {\r\n        setIsLoading(false)\r\n        setIsError(err.message || 'Cannot load place with given ID')\r\n      }\r\n    }\r\n\r\n    loadPlaces()\r\n  }, [])\r\n\r\n  const changeReactionsHandler = () => {\r\n    setShowReactions(!showReactions)\r\n  }\r\n\r\n  const onErrorClear = () => {\r\n    setIsError(null)\r\n    history.push('/')\r\n  }\r\n\r\n  const linkToAuthorPage = () => {\r\n    history.push(`/user/${loadedPlace.creator}`)\r\n  }\r\n\r\n  const linkToReactedUserProfile = (uid) => {\r\n    history.push(`/user/${uid}`)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isloading && <LoadingSpinner asOverlay />}\r\n      <ErrorModal error={isError} onClear={onErrorClear} />\r\n      {!isloading && loadedPlace && (\r\n        <div className={classes.container}>\r\n          <h1 className={classes.detailsTitle}>{loadedPlace.title}</h1>\r\n\r\n          <div className={classes.main_content}>\r\n            <div className={classes.image}>\r\n              <Avatar src={loadedPlace.image} />\r\n            </div>\r\n\r\n            <div className={classes.description}>\r\n              <h1>Description</h1>\r\n              <p>{loadedPlace.description}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={classes.address}>\r\n            <h1>Address</h1>\r\n            <p>{loadedPlace.address}</p>\r\n          </div>\r\n\r\n          <div className={classes.extra}>\r\n            <div>\r\n              <Button onClick={() => history.push('/')}>Back</Button>\r\n            </div>\r\n\r\n            <div>\r\n              <Button onClick={linkToAuthorPage}>Auth page</Button>\r\n            </div>\r\n\r\n            <div className={classes.reactionsContainer}>\r\n              <Button onClick={changeReactionsHandler}>\r\n                Likes: {loadedPlace.likedBy.length}\r\n              </Button>\r\n\r\n              {showReactions && reactedUsersList.length > 0 && (\r\n                <div className={classes.reactions}>\r\n                  {reactedUsersList.map((user, idx) => (\r\n                    <button\r\n                      key={idx}\r\n                      style={{ margin: '10px auto', border: 'none' }}\r\n                      onClick={linkToReactedUserProfile.bind(null, user._id)}\r\n                    >\r\n                      {user.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default PlaceDetails\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\n\r\nconst Logout = () => {\r\n    const Auth = useContext(AuthContext);\r\n    Auth.logout();\r\n    const history = useHistory();\r\n\r\n    history.push(\"/\");\r\n    return <React.Fragment>\r\n        Loging out..\r\n    </React.Fragment>;\r\n}\r\n\r\nexport default Logout","import './footer.css'\r\nimport Button from '../FormElements/Button'\r\nimport { useContext } from 'react'\r\nimport { AuthContext } from '../context/auth-context'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Footer = (props) => {\r\n  const navigation = useHistory()\r\n\r\n  const Auth = useContext(AuthContext)\r\n\r\n  const onCLickHandler = async () => {\r\n    navigation.push(`/user/${Auth.userId}`)\r\n  }\r\n\r\n  return (\r\n    <div className={`footer-div ${!Auth.isLoggedIn && 'footer-div-logout'}`}>\r\n      {Auth.isLoggedIn && (\r\n        <Button onClick={onCLickHandler} inverse>\r\n          PROFILE\r\n        </Button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from 'react-router-dom'\r\n\r\nimport { useState } from 'react'\r\nimport { useCallback } from 'react'\r\nimport NewPlace from './places/pages/NewPlace'\r\nimport User from './users/pages/Users'\r\nimport Auth from './users/pages/Auth'\r\nimport MainNavigation from './shared/navigation/MainNavigation'\r\nimport UserPlaces from './places/pages/UserPlaces'\r\nimport UpdatePlace from './places/pages/UpdatePlace'\r\nimport { AuthContext } from './shared/context/auth-context'\r\nimport UserDetails from './users/components/UserDetails'\r\nimport PlaceDetails from './places/components/PlaceDetails'\r\nimport Logout from './users/pages/Logout'\r\nimport Footer from './shared/Footer/footer'\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n  const [userId, setUserId] = useState(null)\r\n\r\n  const login = useCallback((uid) => {\r\n    setIsLoggedIn(true)\r\n    setUserId(uid)\r\n  }, [])\r\n\r\n  const logout = useCallback(() => {\r\n    setIsLoggedIn(false)\r\n    setUserId(null)\r\n  }, [])\r\n\r\n  let routes\r\n\r\n  if (isLoggedIn) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact>\r\n          <UserPlaces />\r\n        </Route>\r\n        <Route path=\"/:userId/places\" exact>\r\n          <UserPlaces />\r\n        </Route>\r\n        <Route path=\"/places/new\">\r\n          {' '}\r\n          <NewPlace />\r\n        </Route>\r\n        <Route path=\"/places/:placeId\">\r\n          <UpdatePlace />\r\n        </Route>\r\n        <Route path=\"/users\">\r\n          {' '}\r\n          <User />\r\n        </Route>\r\n        <Route path=\"/user/:uid\">\r\n          <UserDetails />\r\n        </Route>\r\n        <Route path=\"/place/:placeId\">\r\n          <PlaceDetails />\r\n        </Route>\r\n        <Route path=\"/auth\">\r\n          {' '}\r\n          <Auth />\r\n        </Route>\r\n        <Route path=\"/logout\">\r\n          <Logout />\r\n        </Route>\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n  } else {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact>\r\n          <UserPlaces />\r\n        </Route>\r\n        <Route path=\"/:userId/places\" exact>\r\n          <UserPlaces />\r\n        </Route>\r\n        <Route path=\"/user/:uid\">\r\n          <UserDetails />\r\n        </Route>\r\n        <Route path=\"/place/:placeId\">\r\n          <PlaceDetails />\r\n        </Route>\r\n        <Route path=\"/users\">\r\n          {' '}\r\n          <User />\r\n        </Route>\r\n        <Route path=\"/auth\">\r\n          {' '}\r\n          <Auth />\r\n        </Route>\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, login, logout, userId }}>\r\n      <Router>\r\n        <MainNavigation />\r\n        <main>{routes}</main>\r\n        <Footer />\r\n      </Router>\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}